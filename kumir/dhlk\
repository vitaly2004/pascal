использовать Рисователь
использовать Клавиатура
алг
нач
цел ширина экрана, высота экрана, ширина кнопки, высота кнопки
высота экрана := 800
ширина экрана := 1500
ширина кнопки := div(ширина экрана, 5)
высота кнопки := div(высота экрана, 7)

начальное меню(ширина экрана, высота экрана, ширина кнопки, высота кнопки)

цел кл
цел положение
положение := div(высота кнопки, 2) * 3
нц
кл := код клав

если кл = КЛ_ВВОД то
если положение = div(высота кнопки, 2) * 3 то
играть(ширина экрана, высота экрана)
ждать(1500)
начальное меню(ширина экрана, высота экрана, ширина кнопки, высота кнопки)
всё
если положение = div(высота кнопки, 2) * 3 + 2 * высота кнопки то
настройки(ширина экрана, высота экрана)
начальное меню(ширина экрана, высота экрана, ширина кнопки, высота кнопки)
всё
если положение = div(высота кнопки, 2) * 3 + 4 * высота кнопки то
выход
всё
всё

меню(ширина экрана, высота экрана, ширина кнопки, высота кнопки)
если кл = КЛ_Вниз то
положение := положение + 2 * высота кнопки
все
если кл = КЛ_Вверх то
положение := положение - 2 * высота кнопки
все
если положение < 0 то
положение := div(высота кнопки, 2) * 11
все
если положение > 6 * высота кнопки то
положение := div(высота кнопки, 2) * 3
все

кисть(голубой)
залить(div(ширина экрана,2), положение)
надписи(ширина экрана, высота экрана, ширина кнопки, высота кнопки)

вывод кл, " ", положение, нс
кц
кон

алг надписи(цел ширина экрана, высота экрана, ширина кнопки, высота кнопки)
нач
шрифт("Arial", 40, да, нет)
цел положение
положение := div(высота кнопки, 2) * 3
надпись(45 * div(ширина экрана, 100), положение, "ИГРАТЬ")
положение := положение + 2 * высота кнопки
надпись(43 * div(ширина экрана, 100), положение, "НАСТРОЙКИ")
положение := положение + 2 * высота кнопки
надпись(46 * div(ширина экрана, 100), положение, "ВЫХОД")
кон

алг меню(цел ширина экрана, высота экрана, ширина кнопки, высота кнопки)
нач
новый лист(ширина экрана, высота экрана, зелёный)
перо(2, чёрный) 

цел х левый
х левый := div(ширина экрана - ширина кнопки, 2)
цел у левый
у левый := высота кнопки
прямоугольник(х левый, у левый , х левый + ширина кнопки, у левый + высота кнопки)
у левый := у левый + 2 * высота кнопки
прямоугольник(х левый, у левый , х левый + ширина кнопки, у левый + высота кнопки)
у левый := у левый + 2 * высота кнопки
прямоугольник(х левый, у левый , х левый + ширина кнопки, у левый + высота кнопки)

кисть(желтый)
цел положение
положение := div(высота кнопки, 2) * 3
залить(div(ширина экрана,2), положение)
положение := положение + 2 * высота кнопки
залить(div(ширина экрана,2), положение)
положение := положение + 2 * высота кнопки
залить(div(ширина экрана,2), положение)
кон

алг начальное меню(цел ширина экрана, высота экрана, ширина кнопки, высота кнопки)
нач
меню(ширина экрана, высота экрана, ширина кнопки, высота кнопки)

кисть(голубой)
цел положение
положение := div(высота кнопки, 2) * 3
залить(div(ширина экрана,2), положение)
надписи(ширина экрана, высота экрана, ширина кнопки, высота кнопки)
кон



алг настройки(цел ширина экрана, высота экрана)
нач
новый лист(ширина экрана, высота экрана, фиолетовый)
шрифт("Calibri", 80, да, нет)
надпись(30 * div(ширина экрана, 100), 45 * div(высота экрана, 100), "Раздел в разработке")
нц
если сигнал клав то
если код клав = 27 то
выход
всё
всё
кц
кон

алг играть(цел ширина экрана, высота экрана)
нач
|лист и начальная змейка
новый лист(1500, 800, зелёный) 
цел размер
размер := 2
цел таб змейка[1:150, 1:2]
цел радиус
радиус := 50
цел i
нц для i от 1 до размер
змейка[размер - i + 1, 1] := радиус + (i - 1) * 2 * радиус
змейка[размер - i + 1, 2] := радиус
перо(1, чёрный)
окружность(змейка[размер - i + 1, 1], змейка[размер - i + 1, 2], радиус)
кисть(голубой)
залить(змейка[размер - i + 1, 1], змейка[размер - i + 1, 2])
кц

|игра
цел кл, сдвигX, сдвигY, xСлед, yСлед, итерация
итерация := 0
кл := КЛ_ВПРАВО
нц
итерация := итерация + 1
|обработка нажатия
если сигнал клав то
кл := код клав
все
если кл = КЛ_ВНИЗ то
сдвигX := 0
сдвигY := 1
все
если кл = КЛ_ВЛЕВО то
сдвигX := -1
сдвигY := 0
все
если кл = КЛ_ВПРАВО то 
сдвигX := 1
сдвигY := 0
все
если кл = КЛ_ВВЕРХ то
сдвигX := 0
сдвигY := -1
все

xСлед := змейка[1, 1] + сдвигX * 2 * радиус
yСлед := змейка[1, 2] + сдвигY * 2 * радиус

если за границами(xСлед, yСлед) или значение в точке(xСлед, yСлед) = голубой  то
проигрыш(размер)
выход
все

если значение в точке(xСлед, yСлед) = жёлтый
то
движениеСЕдой(сдвигX, сдвигY, размер, змейка)
иначе
движениеБезЕды(сдвигX, сдвигY, радиус, размер, змейка)
всё

|подсчёт новой головы
змейка[1, 1] := xСлед
змейка[1, 2] := yСлед

|рисование новой головы
перо(1, чёрный)
окружность(змейка[1, 1], змейка[1, 2], радиус)
кисть(голубой)
залить(змейка[1, 1], змейка[1, 2])

|пауза
ждать(200)
если mod(итерация, 8) = 0 то
появление еды
всё
кц
кон

алг лог за границами(цел xСлед, цел yСлед)
нач
если xСлед > 1450 или yСлед > 750 или yСлед < 50 или xСлед < 50 то
знач := да
иначе 
знач := нет
все
кон

алг проигрыш(цел размер)
нач
надпись(750, 400, "ваши очки: " + цел_в_лит(размер))
кон 

алг движениеБезЕды(цел сдвигX, цел сдвигY, цел радиус, цел размер, аргрез цел таб змейка[1:150, 1:2])
нач
цел i

|закрашиваем хвост
кисть(зелёный)
залить(змейка[размер, 1], змейка[размер, 2])
перо(1, зелёный)
окружность(змейка[размер, 1], змейка[размер, 2], радиус)

|сдвигаем массив вправо
нц для i от размер до 2 шаг -1
змейка[i, 1] := змейка[i - 1, 1]
змейка[i, 2] := змейка[i - 1, 2]
кц
кон

алг движениеСЕдой(цел сдвигX, цел сдвигY, аргрез цел размер, аргрез цел таб змейка[1:150, 1:2])
нач
цел i

|сдвигаем массив вправо
нц для i от размер + 1 до 2 шаг -1
змейка[i, 1] := змейка[i - 1, 1]
змейка[i, 2] := змейка[i - 1, 2]
кц

размер := размер + 1
кон

алг появление еды
нач
цел а,б 
нц
а:= 50 + 100*irnd(14)
б:= 50 + 100*irnd(7)
если значение в точке(а, б) = зеленый
то
окружность(а ,б ,50)
кисть(желтый)
залить(а,б)
выход
все
кц
кон
